<!-- Desktop actions/sidebar -->
<app-menu-actions class="only-desktop"></app-menu-actions>

<!-- Mobile bottom-nav (keep your existing component) -->
<app-menu-mobile class="only-mobile"></app-menu-mobile>

<!-- A11y: skip link -->
<!-- <a class="skip-link" href="#main">Pular para o conteúdo</a> -->

<div class="app-shell">
  <header class="topbar" [class.topbar--hidden]="hideTopbar">
    <div class="topbar__inner">
      <a routerLink="/" class="brand" aria-label="Ir para a página inicial">
        <img src="../assets/img/foxForum.webp" alt="Tech GO" />
        <span class="brand__text">Info Tech Web</span>
      </a>

      <!-- Desktop nav -->
      <nav class="nav only-desktop" aria-label="Navegação principal">
        <a routerLink="/topics" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Tópicos</a>
        <a routerLink="/news" routerLinkActive="active">Notícias</a>
        <a routerLink="/messages/inbox" routerLinkActive="active">Mensagens</a>
        <a routerLink="/profile/me" routerLinkActive="active">Perfil</a>
      </nav>

      <!-- Theme toggle -->
      <button
        class="icon-btn"
        type="button"
        (click)="toggleTheme()"
        [attr.aria-label]="theme === 'dark' ? 'Ativar tema claro' : 'Ativar tema escuro'"
      >
        <i class="bi" [ngClass]="theme === 'dark' ? 'bi-brightness-high-fill' : 'bi-moon-stars-fill'"></i>
      </button>

      <!-- Mobile: optional drawer (nice for top navigation).
           If you prefer ONLY bottom menu, you can remove this button + drawer block. -->
      <button
        class="icon-btn only-mobile"
        type="button"
        (click)="toggleMenu($event)"
        [attr.aria-expanded]="menuOpen"
        aria-controls="mobile-drawer"
        aria-label="Abrir menu"
      >
        <i class="bi" [ngClass]="menuOpen ? 'bi-x-lg' : 'bi-list'"></i>
      </button>
    </div>

    <!-- Mobile drawer -->
    <div id="mobile-drawer" class="drawer only-mobile" [class.open]="menuOpen">
      <nav class="drawer__nav" aria-label="Navegação mobile">
        <a (click)="menuOpen = false" routerLink="/topics" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <i class="bi bi-chat-dots"></i> Tópicos
        </a>
        <a (click)="menuOpen = false" routerLink="/topics/new" routerLinkActive="active">
          <i class="bi bi-plus-circle"></i> Novo Tópico
        </a>
        <a (click)="menuOpen = false" routerLink="/messages/inbox" routerLinkActive="active">
          <i class="bi bi-inbox"></i> Mensagens
        </a>
        <a (click)="menuOpen = false" routerLink="/profile/me" routerLinkActive="active">
          <i class="bi bi-person-circle"></i> Perfil
        </a>
      </nav>
    </div>
  </header>

  <main id="main" class="content">
    <div class="content__container">
      <router-outlet></router-outlet>
    </div>
  </main>

</div>
